/*!
 * remark (http://getbootstrapadmin.com/remark)
 * Copyright 2016 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
!function(e,t){if("function"==typeof define&&define.amd)define("/App/Calendar",["exports","Site","Config"],t);else if("undefined"!=typeof exports)t(exports,require("Site"),require("Config"));else{var a={exports:{}};t(a.exports,e.Site,e.Config),e.AppCalendar=a.exports}}(this,function(e,t,a){"use strict";function n(){return s||(s=new l),s}function i(){var e=n();e.run()}Object.defineProperty(e,"__esModule",{value:!0}),e.getInstance=e.run=e.AppCalendar=void 0;var o=babelHelpers.interopRequireDefault(t),r=babelHelpers.interopRequireWildcard(a),l=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"processed",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"processed",this).call(this),this.$actionToggleBtn=$(".site-action-toggle"),this.$addNewCalendarForm=$("#addNewCalendar").modal({show:!1}),this.handleFullcalendar(),this.handleSelective(),this.handleAction(),this.handleListItem(),this.handleEventList()}},{key:"handleFullcalendar",value:function(){var e=[{title:"All Day Event",start:"2016-10-01"},{title:"Long Event",start:"2016-10-07",end:"2016-10-10",backgroundColor:r.colors("cyan",600),borderColor:r.colors("cyan",600)},{id:999,title:"Repeating Event",start:"2016-10-09T16:00:00",backgroundColor:r.colors("red",600),borderColor:r.colors("red",600)},{title:"Conference",start:"2016-10-11",end:"2016-10-13"},{title:"Meeting",start:"2016-10-12T10:30:00",end:"2016-10-12T12:30:00"},{title:"Lunch",start:"2016-10-12T12:00:00"},{title:"Meeting",start:"2016-10-12T14:30:00"},{title:"Happy Hour",start:"2016-10-12T17:30:00"},{title:"Dinner",start:"2016-10-12T20:00:00"},{title:"Birthday Party",start:"2016-10-13T07:00:00"}],t={header:{left:null,center:"prev,title,next",right:"month,agendaWeek,agendaDay"},defaultDate:"2016-10-12",selectable:!0,selectHelper:!0,select:function(){$("#addNewEvent").modal("show")},editable:!0,eventLimit:!0,windowResize:function(e){var a=$(window).outerWidth(),n=Object.assign({},t);n.events=e.calendar.getEventCache(),n.aspectRatio=a<667?.5:1.35,$("#calendar").fullCalendar("destroy"),$("#calendar").fullCalendar(n)},eventClick:function(e){var t=e.backgroundColor?e.backgroundColor:r.colors("blue",600);$("#editEname").val(e.title),e.start?$("#editStarts").datepicker("update",e.start._d):$("#editStarts").datepicker("update",""),e.end?$("#editEnds").datepicker("update",e.end._d):$("#editEnds").datepicker("update",""),$("#editColor [type=radio]").each(function(){var e=$(this),a=e.data("color").split("|"),n=r.colors(a[0],a[1]);n===t?e.prop("checked",!0):e.prop("checked",!1)}),$("#editNewEvent").modal("show").one("hidden.bs.modal",function(t){e.title=$("#editEname").val();var a=$("#editColor [type=radio]:checked").data("color").split("|");a=r.colors(a[0],a[1]),e.backgroundColor=a,e.borderColor=a,e.start=new Date($("#editStarts").data("datepicker").getDate()),e.end=new Date($("#editEnds").data("datepicker").getDate()),$("#calendar").fullCalendar("updateEvent",e)})},eventDragStart:function(){$(".site-action").data("actionBtn").show()},eventDragStop:function(){$(".site-action").data("actionBtn").hide()},events:e,droppable:!0},a=void 0,n=Object.assign({},t);n.aspectRatio=.5,a=$(window).outerWidth()<667?n:t,$("#editNewEvent").modal(),$("#calendar").fullCalendar(a)}},{key:"handleSelective",value:function(){var e=[{id:"uid_1",name:"Herman Beck",avatar:"../../../../global/portraits/1.jpg"},{id:"uid_2",name:"Mary Adams",avatar:"../../../../global/portraits/2.jpg"},{id:"uid_3",name:"Caleb Richards",avatar:"../../../../global/portraits/3.jpg"},{id:"uid_4",name:"June Lane",avatar:"../../../../global/portraits/4.jpg"}],t=[{id:"uid_1",name:"Herman Beck",avatar:"../../../../global/portraits/1.jpg"},{id:"uid_2",name:"Caleb Richards",avatar:"../../../../global/portraits/2.jpg"}];$(".plugin-selective").selective({namespace:"addMember",local:e,selected:t,buildFromHtml:!1,tpl:{optionValue:function(e){return e.id},frame:function(){return'<div class="'+this.namespace+'">\n          '+this.options.tpl.items.call(this)+'\n          <div class="'+this.namespace+'-trigger">\n          '+this.options.tpl.triggerButton.call(this)+'\n          <div class="'+this.namespace+'-trigger-dropdown">\n          '+this.options.tpl.list.call(this)+"\n          </div>\n          </div>\n          </div>"},triggerButton:function(){return'<div class="'+this.namespace+'-trigger-button"><i class="wb-plus"></i></div>'},listItem:function(e){return'<li class="'+this.namespace+'-list-item"><img class="avatar" src="'+e.avatar+'">'+e.name+"</li>"},item:function(e){return'<li class="'+this.namespace+'-item"><img class="avatar" src="'+e.avatar+'" title="'+e.name+'">'+this.options.tpl.itemRemove.call(this)+"</li>"},itemRemove:function(){return'<span class="'+this.namespace+'-remove"><i class="wb-minus-circle"></i></span>'},option:function(e){return'<option value="'+this.options.tpl.optionValue.call(this,e)+'">'+e.name+"</option>"}}})}},{key:"handleAction",value:function(){var e=this;this.$actionToggleBtn.on("click",function(t){e.$addNewCalendarForm.modal("show"),t.stopPropagation()})}},{key:"handleEventList",value:function(){$("#addNewEventBtn").on("click",function(){$("#addNewEvent").modal("show")}),$(".calendar-list .calendar-event").each(function(){var e=$(this),t=e.data("color").split("-");e.data("event",{title:e.data("title"),stick:e.data("stick"),backgroundColor:r.colors(t[0],t[1]),borderColor:r.colors(t[0],t[1])}),e.draggable({zIndex:999,revert:!0,revertDuration:0,appendTo:".page",helper:function(){return'<a class="fc-day-grid-event fc-event fc-start fc-end" style="background-color:'+r.colors(t[0],t[1])+";border-color:"+r.colors(t[0],t[1])+'">\n          <div class="fc-content">\n            <span class="fc-title">'+e.data("title")+"</span>\n          </div>\n          </a>"}})})}},{key:"handleListItem",value:function(){this.$actionToggleBtn.on("click",function(e){$("#addNewCalendar").modal("show"),e.stopPropagation()}),$(document).on("click","[data-tag=list-delete]",function(e){bootbox.dialog({message:"Do you want to delete the calendar?",buttons:{success:{label:"Delete",className:"btn-danger",callback:function(){}}}})})}}]),t}(o.default),s=null;e.default=l,e.AppCalendar=l,e.run=i,e.getInstance=n});