/*!
 * remark (http://getbootstrapadmin.com/remark)
 * Copyright 2016 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
!function(e,t){if("function"==typeof define&&define.amd)define("/Site",["exports","jquery","Base","Menubar","Sidebar","PageAside"],t);else if("undefined"!=typeof exports)t(exports,require("jquery"),require("Base"),require("Menubar"),require("Sidebar"),require("PageAside"));else{var n={exports:{}};t(n.exports,e.jQuery,e.Base,e.SectionMenubar,e.SectionSidebar,e.SectionPageAside),e.Site=n.exports}}(this,function(e,t,n,a,i,r){"use strict";function o(){return h||(h=new v),h}function l(){var e=o();e.run()}Object.defineProperty(e,"__esModule",{value:!0}),e.getInstance=e.run=e.Site=void 0;var u=babelHelpers.interopRequireDefault(t),s=babelHelpers.interopRequireDefault(n),d=babelHelpers.interopRequireDefault(a),c=babelHelpers.interopRequireDefault(i),f=babelHelpers.interopRequireDefault(r),p=document,g=(0,u.default)(document),b=(0,u.default)("body"),v=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"willProcess",value:function(){this.startLoading(),this.initializePluginAPIs(),this.initializePlugins()}},{key:"processed",value:function(){this.polyfillIEWidth(),this.initBootstrap(),this.setupMenubar(),this.setupFullScreen(),this.setupMegaNavbar(),this.$el.on("click",".dropdown-menu-media",function(e){e.stopPropagation()})}},{key:"_getDefaultMeunbarType",value:function(){var e=this.getCurrentBreakpoint(),t=!1;switch((b.data("autoMenubar")===!1||b.is(".site-menubar-keep"))&&(b.hasClass("site-menubar-fold")?t="fold":b.hasClass("site-menubar-unfold")&&(t="unfold")),e){case"lg":case"md":case"sm":t=t||"fold";break;case"xs":t="hide"}return t}},{key:"getDefaultState",value:function(){var e=this._getDefaultMeunbarType();return{menubarType:e}}},{key:"getDefaultActions",value:function(){return{menubarType:function(e){var t=function(t){t.toggleClass("hided",!("open"===e)),t.toggleClass("unfolded",!("fold"===e))};(0,u.default)('[data-toggle="menubar"]').each(function(){var e=(0,u.default)(this),n=(0,u.default)(this).find(".hamburger");t(n.length>0?n:e)})}}}},{key:"getDefaultChildren",value:function(){var e=new d.default({$el:(0,u.default)(".site-menubar")}),t=new c.default,n=[e,t],a=(0,u.default)(".page-aside");return a.length>0&&n.push(new f.default({$el:a})),n}},{key:"getCurrentBreakpoint",value:function(){var e=Breakpoints.current();return e?e.name:"lg"}},{key:"initBootstrap",value:function(){g.tooltip({selector:"[data-tooltip=true]",container:"body"}),(0,u.default)('[data-toggle="tooltip"]').tooltip(),(0,u.default)('[data-toggle="popover"]').popover()}},{key:"polyfillIEWidth",value:function(){if(navigator.userAgent.match(/IEMobile\/10\.0/)){var e=p.createElement("style");e.appendChild(p.createTextNode("@-ms-viewport{width:auto!important}")),p.querySelector("head").appendChild(e)}}},{key:"setupFullScreen",value:function(){"undefined"!=typeof screenfull&&(g.on("click",'[data-toggle="fullscreen"]',function(){return screenfull.enabled&&screenfull.toggle(),!1}),screenfull.enabled&&p.addEventListener(screenfull.raw.fullscreenchange,function(){(0,u.default)('[data-toggle="fullscreen"]').toggleClass("active",screenfull.isFullscreen)}))}},{key:"setupMegaNavbar",value:function(){g.on("click",".navbar-mega .dropdown-menu",function(e){e.stopPropagation()}).on("show.bs.dropdown",function(e){var t=(0,u.default)(e.target),n=e.relatedTarget?(0,u.default)(e.relatedTarget):t.children('[data-toggle="dropdown"]'),a=n.data("animation");a&&!function(){var e=t.children(".dropdown-menu");e.addClass("animation-"+a).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.removeClass("animation-"+a)})}()}).on("shown.bs.dropdown",function(e){var t=(0,u.default)(e.target).find(".dropdown-menu-media > .list-group");if(t.length>0){var n=t.data("asScrollable");n?n.update():t.asScrollable({namespace:"scrollable",contentSelector:"> [data-role='content']",containerSelector:"> [data-role='container']"})}})}},{key:"setupMenubar",value:function(){var e=this;(0,u.default)(document).on("click",'[data-toggle="menubar"]',function(){var t=e.getState("menubarType");switch(t){case"fold":t="unfold";break;case"unfold":t="fold";break;case"open":t="hide";break;case"hide":t="open"}return e.setState("menubarType",t),!1}),Breakpoints.on("change",function(){e.setState("menubarType",e._getDefaultMeunbarType())})}},{key:"startLoading",value:function(){return"undefined"!=typeof u.default.fn.animsition&&void b.animsition({inClass:"fade-in",inDuration:800,loading:!0,loadingClass:"loader-overlay",loadingParentElement:"html",loadingInner:'\n      <div class="loader-content">\n        <img src="'+Config.get("assets")+'/images/logo@2x.png">\n        <h2>Remark</h2>\n        <div class="loader-index">\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>',onLoadEvent:!0})}}]),t}(s.default),h=null;e.default=v,e.Site=v,e.run=l,e.getInstance=o});