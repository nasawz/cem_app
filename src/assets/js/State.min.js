/*!
 * remark (http://getbootstrapadmin.com/remark)
 * Copyright 2016 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
!function(e,t){if("function"==typeof define&&define.amd)define("/State",["exports","jquery"],t);else if("undefined"!=typeof exports)t(exports,require("jquery"));else{var s={exports:{}};t(s.exports,e.jQuery),e.State=s.exports}}(this,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=babelHelpers.interopRequireDefault(t),i=function(){function e(t){babelHelpers.classCallCheck(this,e),this._states=Object.assign({},t),this._values={},this._relations={},this._callbacks={},this._define()}return babelHelpers.createClass(e,[{key:"_define",value:function(){for(var e=this,t=this,s=Object.keys(this._states),i={},a=[],n=[],l=function(l,r){var o=s[l],u=e._states[o];"function"!=typeof u?(Object.defineProperty(i,o,{set:function(){return!1},get:function(){return a.push(o),t._states[o]},enumerable:!0,configurable:!0}),e._values[o]=e._states[o],e._relations[o]=[]):n.push(o)},r=0,o=s.length;r<o;r++)l(r,o);for(var u=function(e,s){var l=n[e];Object.defineProperty(i,l,{set:function(){return!1},get:function(){var e=t._states[l].call(i);return t._addRelation(l,a),a=[],t._values[l]=e,e},enumerable:!0,configurable:!0}),i[l]},f=0,c=n.length;f<c;f++)u(f,c)}},{key:"_compare",value:function(e){if(this._states[e]!==this._values[e]){var t=this._values[e];this._values[e]=this._states[e],this._dispatch(e,t,this._states[e]),this._compareComposite(e)}}},{key:"_compareComposite",value:function(e){var t=this.getRelation(e);if(t&&t.length>0)for(var s=0,i=t.length;s<i;s++){var a=t[s],n=this._states[a]();n!==this._values[a]&&(this._dispatch(a,this._values[a],n),this._values[a]=n)}}},{key:"_addRelation",value:function(e,t){for(var s=0,i=t.length;s<i;s++){var a=t[s];this._relations[a].push(e)}}},{key:"_dispatch",value:function(e,t,s){this._callbacks[e]&&this._callbacks[e].fire([s,t])}},{key:"getRelation",value:function(e){return this._relations[e].length>0?this._relations[e]:null}},{key:"on",value:function(e,t){"function"==typeof e&&(t=e,e="all"),this._callbacks[e]||(this._callbacks[e]=s.default.Callbacks()),this._callbacks[e].add(t)}},{key:"off",value:function(e,t){this._callbacks[e]&&this._callbacks[e].remove(t)}},{key:"set",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"==typeof e&&"undefined"!=typeof t&&"function"!=typeof this._states[e])this._states[e]=t,s||this._compare(e);else if("object"===("undefined"==typeof e?"undefined":babelHelpers.typeof(e))){for(var i in e)"function"!=typeof e[i]&&this.set(i,e[i],!0);for(var a in e)"function"!=typeof e[a]&&this._compare(a)}return this._states[e]}},{key:"get",value:function(e){return e?this._values[e]:this._values}}]),e}();e.default=i});